<!DOCTYPE html>
<head>   
<title>Chemis TRY</title> 
</head>
<body>
<p align="center"> 
<canvas id="mycanvas"></canvas>
</p>
 </body>
<script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>

<script> 
var sketchProc = function(processingInstance) {    
with (processingInstance) {       
sidelen = 600;
size(sidelen,sidelen);
frameRate(30);
// WRITE YOUR PROGRAM CODE HERE  
stroke();
var color1 = function() {
	fill(144,238,144)
}
var color2 = function() {
	fill(0,100,0)
}
var color3 = function() {
	fill(65,105,225)
}
var scene = 0;
var reagentnum = 0;
var conditionnum = 0;
var button = [
[sidelen/3 ,sidelen/8*2,200,48],
[sidelen/3 ,sidelen/8*4,200,48],
[sidelen/3 ,sidelen/8*6,200,48],
//reaction
[sidelen/10 ,sidelen/8*2,200,48],
[sidelen/10*5.6 ,sidelen/8*2,200,48],
[sidelen/6 ,sidelen/8*6,400,48],
//end
[sidelen/3 ,sidelen/8*6,200,48],
[sidelen/3 ,sidelen/8*7,200,48],
//flowchart
[sidelen/3 ,sidelen/8*7,200,48],
//reagents
[sidelen/3 ,sidelen/8*1,200,48],
[sidelen/3 ,sidelen/8*3,200,48],
[sidelen/3 ,sidelen/8*5,200,48],
[sidelen/3 ,sidelen/8*7,200,48],
//conditions
[sidelen/3 ,sidelen/8*1,200,48],
[sidelen/3 ,sidelen/8*3,200,48],
[sidelen/3 ,sidelen/8*5,200,48],
[sidelen/3 ,sidelen/8*7,200,48],
];
textFont(31,32);
var reagents = ["Reagent 1","Ethene","Propane","Ethanol","Methane"];
var conditions = ["Reagent 2","Hydrogen","Oxygen","Chlorine","Bromine"];
var scene0 = function() {
    //start title
	color3();
	textFont(31,32);
	text("Chemis TRY",sidelen/3 ,sidelen/8 );
	//boxes
	color1();
	rect(button[0][0],button[0][1],button[0][2],button[0][3]);
	rect(button[1][0],button[1][1],button[1][2],button[1][3]);
	rect(button[2][0],button[2][1],button[2][2],button[2][3]);
	//words
	color2();
	text("Start", button[0][0]+button[0][2]/3,button[0][1]+button[0][3]/3*2)
	text("Flowchart", button[1][0]+button[1][2]/5,button[1][1]+button[1][3]/3*2);
	text("Setting", button[2][0]+button[2][2]/4,button[2][1]+button[2][3]/3*2);
};
var scene1 = function() {
    //reaction process
	//boxes
	color1();
	rect(button[3][0],button[3][1],button[3][2],button[3][3]);
	rect(button[4][0],button[4][1],button[4][2],button[4][3]);
	rect(button[5][0],button[5][1],button[5][2],button[5][3]);
	//lines
	stroke(20);
	strokeWeight(10);
	line(sidelen/2+25,sidelen/3.4,sidelen/2-25,sidelen/3.4);
	line(sidelen/2,sidelen/3.4+25,sidelen/2,sidelen/3.4-25);
	noStroke();
	//words
	textFont(123,31);
	color2();
	text(reagents[reagentnum], button[3][0]+button[3][2]/6,button[3][1]+button[3][3]/3*2);
	text(conditions[conditionnum], button[4][0]+button[4][2]/4,button[4][1]+button[4][3]/3*2);
	text("Click to check result!", button[5][0]+button[5][2]/7,button[5][1]+button[5][3]/3*2);
};
var scene2 = function() {
    //reaction end
	color1();
	rect(button[6][0],button[6][1],button[6][2],button[6][3]);
	rect(button[7][0],button[7][1],button[7][2],button[7][3]);
	color2();
	textFont(123,31);
	text("Back", button[6][0]+button[6][2]/6,button[6][1]+button[6][3]/3*2);
	text("Flowchart", button[7][0]+button[7][2]/6,button[7][1]+button[7][3]/3*2);
	if (reagentnum === 1 && conditionnum === 1) {
		text("Ethane", 230,200);
	} else {
		text("No Reaction", 200,200);
	}
};
var scene3 = function() {
    //flowchart
	color1();
	rect(button[8][0],button[8][1],button[8][2],button[8][3]);
	color2();
	textFont(123,31);
	text("Back", button[8][0]+button[8][2]/6,button[8][1]+button[8][3]/3*2);
};
var scene4 = function() {
    //reagents
	//boxes
	color1();
	rect(button[9][0],button[9][1],button[9][2],button[9][3]);
	rect(button[10][0],button[10][1],button[10][2],button[10][3]);
	rect(button[11][0],button[11][1],button[11][2],button[11][3]);
	rect(button[12][0],button[12][1],button[12][2],button[12][3]);
	//words
	color2();
	text(reagents[1], button[9][0]+button[9][2]/6,button[9][1]+button[9][3]/3*2);
	text(reagents[2], button[10][0]+button[10][2]/4,button[10][1]+button[10][3]/3*2);
	text(reagents[3], button[11][0]+button[11][2]/7,button[11][1]+button[11][3]/3*2);
	text(reagents[4], button[12][0]+button[12][2]/7,button[12][1]+button[12][3]/3*2);
};
var scene5 = function() {
    //conditions
	//boxes
	color1();
	rect(button[13][0],button[13][1],button[13][2],button[13][3]);
	rect(button[14][0],button[14][1],button[14][2],button[14][3]);
	rect(button[15][0],button[15][1],button[15][2],button[15][3]);
	rect(button[16][0],button[16][1],button[16][2],button[16][3]);
	//words
	color2();
	text(conditions[1], button[13][0]+button[13][2]/6,button[13][1]+button[13][3]/3*2);
	text(conditions[2], button[14][0]+button[14][2]/4,button[14][1]+button[14][3]/3*2);
	text(conditions[3], button[15][0]+button[15][2]/7,button[15][1]+button[15][3]/3*2);
	text(conditions[4], button[16][0]+button[16][2]/7,button[16][1]+button[16][3]/3*2);
};
var mouseAni = function() {
	fill(47,79,79);
	ellipse(mouseX+10,mouseY+10,20,20)
}

mouseClicked = function() {
    if(scene === 0) {
        if(mouseX >= button[0][0] && mouseX <= button[0][0] + button[0][2] && mouseY >= button[0][1] && mouseY <= button[0][1] + button[0][3]) {
            scene = 1;
        } 
		else if(mouseX >= button[1][0] && mouseX <= button[1][0] + button[1][2] && mouseY >= button[1][1] && mouseY <= button[1][1] + button[1][3]) {
            scene = 3;
        }
    } else if(scene === 1) {
		//reaction page
		if(mouseX >= button[3][0] && mouseX <= button[3][0] + button[3][2] && mouseY >= button[3][1] && mouseY <= button[3][1] + button[3][3]) {
            scene = 4;
        }
		else if(mouseX >= button[4][0] && mouseX <= button[4][0] + button[4][2] && mouseY >= button[4][1] && mouseY <= button[4][1] + button[4][3]) {
            scene = 5;
        }
        else if(mouseX >= button[5][0] && mouseX <= button[5][0] + button[5][2] && mouseY >= button[5][1] && mouseY <= button[5][1] + button[5][3]) {
            scene = 2;
        }
    } else if(scene === 2) {
		//reaction end
        if(mouseX >= button[6][0] && mouseX <= button[6][0] + button[6][2] && mouseY >= button[6][1] && mouseY <= button[6][1] + button[6][3]) {
            scene = 1;
        } else if(mouseX >= button[7][0] && mouseX <= button[7][0] + button[7][2] && mouseY >= button[7][1] && mouseY <= button[7][1] + button[7][3]) {
            scene = 3;
        }
    } else if(scene === 3) {
		//flowchart
		if(mouseX >= button[8][0] && mouseX <= button[8][0] + button[8][2] && mouseY >= button[8][1] && mouseY <= button[8][1] + button[8][3]) {
            scene = 0;
        }
    } else if(scene === 4) {
		//reagents
		for(var i = 9; i < 13; i++) {
			if(mouseX >= button[i][0] && mouseX <= button[i][0] + button[i][2] && mouseY >= button[i][1] && mouseY <= button[i][1] + button[i][3]) {
				reagentnum = i - 8;
				scene = 1;
			}
        } 
    } else if(scene === 5) {
		//conditions
        for(var i = 13; i < 17; i++) {
			if(mouseX >= button[i][0] && mouseX <= button[i][0] + button[i][2] && mouseY >= button[i][1] && mouseY <= button[i][1] + button[i][3]) {
				conditionnum = i - 12;
				scene = 1;
			}
        }
    }
};
draw = function() {
	background(255,255,255);
    if(scene === 0) {
        scene0();
    } else if(scene === 1) {
        scene1();
    }
     else if(scene === 2) {
        scene2();
    }
     else if(scene === 3) {
        scene3();
    }
	else if(scene === 4) {
        scene4();
    }
	else if(scene === 5) {
        scene5();
    }
	mouseAni();
};
//YOUR JS PROGRAM CODE ENDS HERE.
}};  
// Get the canvas that Processing-js will use   
var canvas = document.getElementById("mycanvas"); 
  // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
var processingInstance = new Processing(canvas, sketchProc); 
</script>
</html>